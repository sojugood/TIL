11.13

- Start
예금

/deposit(전체)

/deposit/int:pk(개월 수)/int:pk(1-기본,2-최고우대)


- Fin
기본 금리, 우대 금리 필드명으로 url 수정

이슈 발생 : API에서 DB에 저장하는 save 기능 함수에서 유효성 검사 실시 후 중복 체크하여 저장하는 로직에서 오류 발생(product의 unique로 설정한 필드가 유효성 검사에 걸려서 중복 검사하는 단계로 넘어가지 못함)
해결 => 중복 체크를 먼저 실시하여 불필요한 유효성 검사 하지 않도록 수정


11.14

- Start
status(상태 500 -> 자세하게)

get_list_or_404 적용하기


- Fin
캐싱 적용
기간 전체 조회 추가(값 0으로 사용)
환율(날짜 필드 추가 auto_now로 자동 갱신)
원화 입력시 선택한 국가 통화로 변환된 값(한화 1000원 기준 필드 추가)
일본, 인도네시아 100 단위 변환, 코드명에 붙은 (100) 제거 => 전체 데이터 통일


11.15

- Todo
get_list_or_404 적용하기

유저 테이블(상속 유저 모델)에 팔로우(다대다필드), 성별, 생년월일, 보유자산 필드 추가하기
+ 가입 상품(옵션) 연결 필드

JSON 응답 페이지 나눠서 보내기


-Fin
!!!요청 url에 사용자pk 값 받지 않기 -> Token으로 사용자 인증 가능함
유저 모델 커스텀 -> 회원가입 시 커스텀 필드도 저장될 수 있게 수정완료
이슈 : 유저 모델 상속받아 커스텀 하였을 때 rest-auth 라이브러리 회원관리 사용하려면 serializer와 adapter도 커스텀에 맞게 수정해줘야 했음.


11.16

-Todo
환율 최신 날짜 갱신 로직 수정하기 != 말고 > 로
환율 정보는 오전 11시 이후로 로드됨(당일 기준 그 이전 시간에는 데이터 비어있음)


오늘 작업한 거 주석달기 + 정리 한 번 더 하기



-Fin
게시글, 댓글, 대댓글, 좋아요 구현완료
(필드 간 연결 => 왜래키, 다대다필드 설정)
대댓글 구현 과정 이슈 : 왜래키로 'self'를 가리키도록 하여 계층관계를 설정하였음.
게시글 상세 페이지 조회 요청 시 댓글에 대댓글이 포함되어 있었으나 대댓글도 해당 게시글을 왜래키로 가지고 있어서 게시글의 댓글로도 중복으로 응답하는 것을 확인하였음.
=> ArticleSerializer에 상위 댓글만 필터링 하도록 처리하여 해결완료

조회 요청(GET) 제외한 요청 권한 설정 == 비로그인 시 게시글 목록, 게시글 조회는 가능
페이지네이션 구현하기

프로필 페이지, 팔로우, 팔로잉 구현완료.




11.17

-Todo
프로필 페이지, 팔로우 view함수에 권한 설정 적용시키기

예금, 적금 상품 해지하기 구현(사용자 별 구독 정보를 처리해줘야함) : 사이트 이용하는 사용자에 관계없이 모든 구독 정보를 전달하는 것은 매우 비효율적. 사용자의 request를 기반으로 로그인 여부를 판별 -> 로그인 하였다면 해당 사용자의 pk값을 얻어와서 구독 테이블에서 해당 사용자의 구독 정보 추출 -> 추출한 정보를 응답에 추가하기


-Fin
환율 날짜 갱신 테스트
회원탈퇴 구현완료(타 사용자 비밀번호 맞춰도 삭제 불가, 요청 사용자와 삭제 대상 사용자 이름 일치 여부도 확인함)
+ POST요청에 들어온 사용자 이름, 비밀번호 직렬화 후 토큰 사용자 이름과 일치 비교 -> DB에 저장된 암호화 비밀번호 와 일치 확인
예금, 적금 상품 가입하기 구현하기(프로필 페이지에 가입한 상품 정보 보여주기)
게시글 목록 조회 요청 시, 시리얼라이저에 전달 필드에 게시글 생성일자 추가하기
예금, 적금 조회 요청 시 상품-옵션 묶어서 응답하는 시리얼라이저에 사용자 별 구독 정보 추가함, 비로그인 사용자일 경우 null값 응답
+++ 사용자 별, 페이지 별 캐싱 적용 완료, 캐시 키 발급함.




11.18


-Fin
예금, 적금 상품 해지하기 구현완료
 + 상품 구독 및 해지 시 사용자 별 해당 상품 포함된 페이지 캐시 삭제함 => 그래야 사용자에게 구독 상태를 올바르게 표현할 수 있음


11.19

-Todo
회원 정보 수정 구현하기
비밀번호 변경 구현하기


-Fin
회원 정보 수정 구현완료. 
비밀번호 변경 구현완료.


11.20

-Todo
네이버 뉴스 API로 금융뉴스 데이터 받아오기
석유, 금 시세 데이터 받아오기
Front에서 Chartjs로 구현하기

-Fin
금융 뉴스 데이터 받아오기 구현완료(응답까지)
석유, 금 시세 데이터 받아오기



11.21

-Todo
석유 데이터 중 0인 값 받지 않도록 수정(DB 갱신해야함)
일일 금, 석유 가격 추가하도록 구현하기


-Fin
Chartjs 구현완료
석유 데이터 중 0인 값 받지 않도록 수정완료